<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>CINE|Blinkly</title>
  <link rel="stylesheet" href="cinema.css">

  <!-- Font Awesome para os ícones -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>

<nav class="nav-cinema">
  <div class="logo-container">
    <img src="filme.png" alt="logo" class="logo-cinema">

    <!-- Vários emojis de comida -->
    <span class="comida">🍿</span>
    <span class="comida">🍟</span>
    <span class="comida">🍔</span>
    <span class="comida">🍿</span>
    <span class="comida">🍟</span>
    <span class="comida">🍔</span>
  </div>
</nav>


<div class="form-wrapper">
  <h2>Entrar</h2>
  <form action="#">
    <div class="form-control">
      <input type="text" required>
      <label>Email da sua conta Blinkly</label>
    </div>
  
    <div class="form-control senha-box">
       <input type="password" id="senha" required>
       <label for="senha">Senha</label>
       <!-- Ícone do olho -->
       <span class="toggle-senha"><i class="fa-solid fa-eye"></i></span>
    </div>

    <button type="submit">Entrar</button>
    <div class="form-help">
      <div class="remember-me">
        <input type="checkbox" id="remember-me">
        <label for="remember-me">Lembrar de mim</label>
      </div>
      <a href="#">Precisa de ajuda?</a>
    </div>

  <div class="particles">
    <span style="left:10%; animation-duration:14s;"></span>
    <span style="left:30%; animation-duration:18s;"></span>
    <span style="left:50%; animation-duration:12s;"></span>
    <span style="left:70%; animation-duration:16s;"></span>
    <span style="left:90%; animation-duration:20s;"></span>
  </div>

  <div class="stars">
    <span style="top:10%; left:15%; animation-delay:1s;"></span>
    <span style="top:40%; left:50%; animation-delay:2s;"></span>
    <span style="top:70%; left:80%; animation-delay:3s;"></span>
    <span style="top:20%; left:75%; animation-delay:0.5s;"></span>
  </div>

  <div class="spark" style="top:20%; left:0%; animation-delay:1s;"></div>
  <div class="spark" style="top:50%; left:10%; animation-delay:3s;"></div>

  <div class="fog"></div>
  <div class="fog2"></div>

  </form>
  <p>Novo na Blinkly? <a href="#">Assine agora</a></p>
  <small>
    Esta página é protegida pelo Google reCAPTCHA para garantir que você não é um robô.
    <a href="#">Saiba mais.</a>
  </small>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.querySelector("form");
    const emailInput = form.querySelector('input[type="text"]');
    const senhaInput = form.querySelector('input[type="password"]');

    const emailError = document.createElement("small");
    const senhaError = document.createElement("small");
    emailError.classList.add("error-msg");
    senhaError.classList.add("error-msg");

    emailInput.parentNode.appendChild(emailError);
    senhaInput.parentNode.appendChild(senhaError);

    // Criar barra de força
    const strengthBar = document.createElement("div");
    strengthBar.classList.add("strength-bar");
    const strengthFill = document.createElement("div");
    strengthFill.classList.add("strength-fill");
    strengthBar.appendChild(strengthFill);
    senhaInput.parentNode.appendChild(strengthBar);

    function validarEmail(email) {
      return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
    }

    function validarSenha(senha) {
      return senha.length >= 6;
    }

    function feedback(input, valido) {
      input.classList.remove("error", "success-blue", "success-green");
      input.parentNode.querySelector(".icon-feedback")?.remove();

      const icon = document.createElement("span");
      icon.classList.add("icon-feedback");

      if (valido) {
        if (input.type === "text") {
          input.classList.add("success-blue");
        } else {
          input.classList.add("success-green");
        }
        icon.textContent = "✅";
      } else {
        // não mostra X vermelho
      }

      input.parentNode.appendChild(icon);
    }

    // Avaliar força da senha
    function avaliarForca(senha) {
      let score = 0;
      if (senha.length >= 6) score++;
      if (/[A-Z]/.test(senha)) score++;
      if (/[0-9]/.test(senha)) score++;
      if (/[^A-Za-z0-9]/.test(senha)) score++;
      return score;
    }

    senhaInput.addEventListener("input", () => {
      const senha = senhaInput.value.trim();
      const forca = avaliarForca(senha);

      strengthFill.style.width = (forca * 25) + "%";

      if (forca === 0) {
        strengthFill.style.background = "transparent";
      } else if (forca === 1) {
        strengthFill.style.background = "#ff4d4d"; // fraca
      } else if (forca === 2) {
        strengthFill.style.background = "#ffb84d"; // média
      } else if (forca === 3) {
        strengthFill.style.background = "#4dafff"; // boa
      } else if (forca === 4) {
        strengthFill.style.background = "#00ff80"; // forte
      }

      feedback(senhaInput, validarSenha(senha));
      senhaError.textContent = "";
    });

    // Feedback em tempo real do email
    emailInput.addEventListener("input", () => {
      feedback(emailInput, validarEmail(emailInput.value.trim()));
      emailError.textContent = "";
    });

    // Quando enviar
    form.addEventListener("submit", (e) => {
      e.preventDefault();
      let valido = true;

      emailError.textContent = "";
      senhaError.textContent = "";

      const email = emailInput.value.trim();
      const senha = senhaInput.value.trim();

      if (!validarEmail(email)) {
        emailError.textContent = "Digite um email válido.";
        feedback(emailInput, false);
        emailInput.classList.add("shake");
        setTimeout(() => emailInput.classList.remove("shake"), 500);
        valido = false;
      }

      if (!validarSenha(senha)) {
        senhaError.textContent = "A senha precisa ter no mínimo 6 caracteres.";
        feedback(senhaInput, false);
        senhaInput.classList.add("shake");
        setTimeout(() => senhaInput.classList.remove("shake"), 500);
        valido = false;
      }

      if (valido) {
        window.location.href = "ani/animaçao.html";
      }
    });
  });
</script>

<!-- Script para alternar olho/olho cortado -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const senhaInput = document.querySelector("#senha");
    const toggleSenha = document.querySelector(".toggle-senha i");

    document.querySelector(".toggle-senha").addEventListener("click", () => {
      if (senhaInput.type === "password") {
        senhaInput.type = "text";
        toggleSenha.classList.remove("fa-eye");
        toggleSenha.classList.add("fa-eye-slash");
      } else {
        senhaInput.type = "password";
        toggleSenha.classList.remove("fa-eye-slash");
        toggleSenha.classList.add("fa-eye");
      }
    });
  });
</script>

</body>
</html>
